DROP TRIGGER IF EXISTS Categoria_Scaglione;

DELIMITER //
CREATE TRIGGER Categoria_Scaglione
AFTER INSERT ON Categoria
FOR EACH ROW
BEGIN
	IF NOT EXISTS (SELECT Categoria FROM Scaglione 
	WHERE Scaglione.Categoria = NEW.NomeCategoria)
	THEN INSERT INTO Sconto VALUES (NEW.NomeCategoria,0,0,NULL); 
		 INSERT INTO Scaglione (Categoria) VALUES (NEW.NomeCategoria);
	END IF;
END;//
DELIMITER ;
